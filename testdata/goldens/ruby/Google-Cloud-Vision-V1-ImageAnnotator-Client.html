<!DOCTYPE html>
<html devsite="">
  <head>
    <meta name="project_path" value="/ruby/_project.yaml">
    <meta name="book_path" value="/ruby/_book.yaml">
  </head>
  <body>
    {% verbatim %}
    <div>
      <article data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client">
<h1 class="page-title">Class Google::Cloud::Vision::V1::ImageAnnotator::Client
</h1>
  
  
  <div class="markdown level0 summary"><p>Client for the ImageAnnotator service.</p>
<p>Service that performs Google Cloud Vision API detection tasks over client
images, such as face, landmark, logo, label, and text detection. The
ImageAnnotator service returns detected entities from the images.</p>
</div>
  <h2 id="methods">Methods
  </h2>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_configure_class_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client.configure(class)" class="notranslate">.configure</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def self.configure { |config| ... } =&gt; Client::Configuration</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Configure the ImageAnnotator Client class.</p>
<p>See <a href="./Google-Cloud-Vision-V1-ImageAnnotator-Client-Configuration">::Google::Cloud::Vision::V1::ImageAnnotator::Client::Configuration</a>
for a description of the configuration fields.</p>
<h4 id="example">Example</h4>
<p>To modify the configuration for all ImageAnnotator clients:</p>
<pre class="prettyprint lang-rb">::Google::Cloud::Vision::V1::ImageAnnotator::Client.configure do |config|
  config.timeout = 10.0
end</pre></div>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_configure_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#configure(instance)" class="notranslate">#configure</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def configure { |config| ... } =&gt; Client::Configuration</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Configure the ImageAnnotator Client instance.</p>
<p>The configuration is set to the derived mode, meaning that values can be changed,
but structural changes (adding new fields, etc.) are not allowed. Structural changes
should be made on {Client.configure}.</p>
<p>See <a href="./Google-Cloud-Vision-V1-ImageAnnotator-Client-Configuration">::Google::Cloud::Vision::V1::ImageAnnotator::Client::Configuration</a>
for a description of the configuration fields.</p>
</div>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_initialize_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#initialize(instance)" class="notranslate">#initialize</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def initialize { |config| ... } =&gt; Client</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Create a new ImageAnnotator client object.</p>
<h4 id="examples">Examples</h4>
<p>To create a new ImageAnnotator client with the default
configuration:</p>
<pre class="prettyprint lang-rb">client = ::Google::Cloud::Vision::V1::ImageAnnotator::Client.new</pre>

<p>To create a new ImageAnnotator client with a custom
configuration:</p>
<pre class="prettyprint lang-rb">client = ::Google::Cloud::Vision::V1::ImageAnnotator::Client.new do |config|
  config.timeout = 10.0
end</pre></div>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_operations_client_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#operations_client(instance)" class="notranslate">#operations_client</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def operations_client =&gt; ::Google::Cloud::Vision::V1::ImageAnnotator::Operations</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Get the associated client for long-running operations.</p>
</div>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_batch_annotate_images_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#batch_annotate_images(instance)" class="notranslate">#batch_annotate_images</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def batch_annotate_images(request, options = nil) =&gt; ::Google::Cloud::Vision::V1::BatchAnnotateImagesResponse
def batch_annotate_images(requests: nil, parent: nil) =&gt; ::Google::Cloud::Vision::V1::BatchAnnotateImagesResponse</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Run image detection and annotation for a batch of images.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

# Create a client object. The client can be reused for multiple calls.
client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

# Create a request. To set request fields, pass in keyword arguments.
request = Google::Cloud::Vision::V1::BatchAnnotateImagesRequest.new

# Call the batch_annotate_images method.
result = client.batch_annotate_images request

# The returned object is of type Google::Cloud::Vision::V1::BatchAnnotateImagesResponse.
p result</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_batch_annotate_files_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#batch_annotate_files(instance)" class="notranslate">#batch_annotate_files</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def batch_annotate_files(request, options = nil) =&gt; ::Google::Cloud::Vision::V1::BatchAnnotateFilesResponse
def batch_annotate_files(requests: nil, parent: nil) =&gt; ::Google::Cloud::Vision::V1::BatchAnnotateFilesResponse</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Service that performs image detection and annotation for a batch of files.
Now only &quot;application/pdf&quot;, &quot;image/tiff&quot; and &quot;image/gif&quot; are supported.</p>
<p>This service will extract at most 5 (customers can specify which 5 in
AnnotateFileRequest.pages) frames (gif) or pages (pdf or tiff) from each
file provided and perform detection and annotation for each image
extracted.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

# Create a client object. The client can be reused for multiple calls.
client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

# Create a request. To set request fields, pass in keyword arguments.
request = Google::Cloud::Vision::V1::BatchAnnotateFilesRequest.new

# Call the batch_annotate_files method.
result = client.batch_annotate_files request

# The returned object is of type Google::Cloud::Vision::V1::BatchAnnotateFilesResponse.
p result</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_async_batch_annotate_images_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#async_batch_annotate_images(instance)" class="notranslate">#async_batch_annotate_images</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def async_batch_annotate_images(request, options = nil) =&gt; ::Gapic::Operation
def async_batch_annotate_images(requests: nil, output_config: nil, parent: nil) =&gt; ::Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Run asynchronous image detection and annotation for a list of images.</p>
<p>Progress and results can be retrieved through the
<code>google.longrunning.Operations</code> interface.
<code>Operation.metadata</code> contains <code>OperationMetadata</code> (metadata).
<code>Operation.response</code> contains <code>AsyncBatchAnnotateImagesResponse</code> (results).</p>
<p>This service will write image annotation outputs to json files in customer
GCS bucket, each json file containing BatchAnnotateImagesResponse proto.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

# Create a client object. The client can be reused for multiple calls.
client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

# Create a request. To set request fields, pass in keyword arguments.
request = Google::Cloud::Vision::V1::AsyncBatchAnnotateImagesRequest.new

# Call the async_batch_annotate_images method.
result = client.async_batch_annotate_images request

# The returned object is of type Gapic::Operation. You can use this
# object to check the status of an operation, cancel it, or wait
# for results. Here is how to block until completion:
result.wait_until_done! timeout: 60
if result.response?
  p result.response
else
  puts "Error!"
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_async_batch_annotate_files_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#async_batch_annotate_files(instance)" class="notranslate">#async_batch_annotate_files</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def async_batch_annotate_files(request, options = nil) =&gt; ::Gapic::Operation
def async_batch_annotate_files(requests: nil, parent: nil) =&gt; ::Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Run asynchronous image detection and annotation for a list of generic
files, such as PDF files, which may contain multiple pages and multiple
images per page. Progress and results can be retrieved through the
<code>google.longrunning.Operations</code> interface.
<code>Operation.metadata</code> contains <code>OperationMetadata</code> (metadata).
<code>Operation.response</code> contains <code>AsyncBatchAnnotateFilesResponse</code> (results).</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

# Create a client object. The client can be reused for multiple calls.
client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

# Create a request. To set request fields, pass in keyword arguments.
request = Google::Cloud::Vision::V1::AsyncBatchAnnotateFilesRequest.new

# Call the async_batch_annotate_files method.
result = client.async_batch_annotate_files request

# The returned object is of type Gapic::Operation. You can use this
# object to check the status of an operation, cancel it, or wait
# for results. Here is how to block until completion:
result.wait_until_done! timeout: 60
if result.response?
  p result.response
else
  puts "Error!"
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_crop_hints_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#crop_hints_detection(instance)" class="notranslate">#crop_hints_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def crop_hints_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type CROP_HINTS.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.crop_hints_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_document_text_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#document_text_detection(instance)" class="notranslate">#document_text_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def document_text_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type DOCUMENT_TEXT_DETECTION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.document_text_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_face_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#face_detection(instance)" class="notranslate">#face_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def face_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type FACE_DETECTION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.face_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_image_properties_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#image_properties_detection(instance)" class="notranslate">#image_properties_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def image_properties_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type IMAGE_PROPERTIES.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.image_properties_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_label_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#label_detection(instance)" class="notranslate">#label_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def label_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type LABEL_DETECTION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.label_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_landmark_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#landmark_detection(instance)" class="notranslate">#landmark_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def landmark_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type LANDMARK_DETECTION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.landmark_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_logo_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#logo_detection(instance)" class="notranslate">#logo_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def logo_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type LOGO_DETECTION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.logo_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_object_localization_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#object_localization_detection(instance)" class="notranslate">#object_localization_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def object_localization_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type OBJECT_LOCALIZATION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.object_localization_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_product_search_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#product_search_detection(instance)" class="notranslate">#product_search_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def product_search_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type PRODUCT_SEARCH.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.product_search_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_safe_search_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#safe_search_detection(instance)" class="notranslate">#safe_search_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def safe_search_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type SAFE_SEARCH_DETECTION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.safe_search_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_text_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#text_detection(instance)" class="notranslate">#text_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def text_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type TEXT_DETECTION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.text_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
  <h3 id="Google__Cloud__Vision__V1__ImageAnnotator__Client_web_detection_instance_" data-uid="Google::Cloud::Vision::V1::ImageAnnotator::Client#web_detection(instance)" class="notranslate">#web_detection</h3>
  <div class="codewrapper">
    <pre><code class="prettyprint">def web_detection(images: [], image: nil, max_results: 10, options: nil, async: false, mime_type: nil, batch_size: 10, destination: nil, image_context: nil, &amp;block) { |result, operation| ... } =&gt; Google::Cloud::Vision::V1::BatchAnnotateImagesResponse, Gapic::Operation</code></pre>
  </div>
  <div class="markdown level1 summary"><p>Detect features of type WEB_DETECTION.</p>
</div>
  <strong>Example</strong>
  <pre class="prettyprint lang-rb">require "google/cloud/vision/v1"

image_annotator_client = Google::Cloud::Vision::V1::ImageAnnotator::Client.new

response = image_annotator_client.web_detection image: "path/to/image.png"
response.responses.each do |res|
  puts res
end</pre>
</article>
    </div>
    {% endverbatim %}
  </body>
</html>
